<div class="page-header">
  <div class="btn-toolbar btn-sm pull-right">
    <% if can?(:manage, Publisher) %>
      <div class="btn-group btn-group-sm">
        <%= link_to '<span class="glyphicon glyphicon-trash"></span>'.html_safe, publisher_path(@publisher), :data => { :confirm => 'Are you sure?' }, :method => :delete, :class => 'btn btn-default' %>
      </div>
    <% end %>
    <div class="btn-group btn-group-sm" id="article-order">
      <a class="btn btn-default dropdown-toggle" data-toggle="dropdown" href="#"><span class="glyphicon glyphicon-sort"></span> <%= @source.nil? ? "Date" : h(@source.display_name) %> <span class="caret"></span></a>
      <ul class="dropdown-menu pull-right">
        <li><%= link_to "Date", publisher_path(@publisher) %></li>
          <% Group.order("id").each do |group| %>
            <% unless group.sources.active.empty? %>
              <li class="divider"></li>
              <% group.sources.active.each do |source| %>
                <li><%= link_to h(source.display_name), publisher_path(@publisher, order: source.name) %></li>
              <% end %>
            <% end %>
          <% end %>
      </ul>
    </div>
  </div>
  <h1 id="api_key" data-name="" data-api_key="<%= CONFIG[:api_key] %>" data-uid_type="<%= CONFIG[:uid] %>" data-page="<%= @page %>" data-q="" data-class_name="" data-order="<%= @source.present? ? h(@source.name) : nil %>" data-publisher="<%= @publisher.crossref_id %>">
    <%= h(@publisher.name) %>
  </h1>
</div>

<dl class="dl-horizontal">
  <% if @publisher.other_names.present? && @publisher.other_names.length > 1 %>
    <dt>Other Names</dt>
    <dd><%= @publisher.other_names.reject { |name| name == @publisher.name }.join("</br>").html_safe %></dd>
  <% end %>
  <% if @publisher.prefixes.present? %>
    <dt>DOI <%= 'Prefix'.pluralize(@publisher.prefixes.size) %></dt>
    <dd><%= @publisher.prefixes.join(" ") %></dd>
  <% end %>
  <% if can?(:read, Alert) && @publisher.users %>
    <dt>Users</dt>
    <dd><%= @publisher.users.map { |user| link_to h(user.username), users_path(query: user.username) }.join("</br>").html_safe %></dd>
  <% end %>
</dl>
