<div class="content">
  <div class="page-header">
    <h1>API Requests</h1>
  </div>
  
  <div class="row">
    <div class="span12">
      Number and duration of API requests in the last 6 weeks. Filter by <a href="javascript:filter([null, [0, 10], null, null])">cached</a> responses (< 10 ms database duration), <a href="javascript:filter([null, null, null, [1000, 50000]])">slow</a> responses (>&nbsp;1,000 ms view duration), or responses <a href="javascript:filter([[new Date(new Date().getTime() - 1 * 24 * 60 * 60 * 1000), new Date()], null, null, null])">in the last 24 hours</a>.</p>
    </div>

    <div id="charts">
      <div id="date-chart" class="span6 req-chart">
        <div class="title">Date</div>
      </div>
      <div id="db-chart" class="span6 req-chart">
        <div class="title">Database Duration (ms)</div>
      </div>
      <div id="hour-chart" class="span6 req-chart">
        <div class="title">Time of Day (UTC)</div>
      </div>
      <div id="duration-chart" class="span6 req-chart">
        <div class="title">View Duration (ms)</div>
      </div>
    </div>

    <div id="lists">
      <div id="request-list" class="span12 list">
      <div id="totals" class="pull-right"><span id="active">-</span> of <span id="total">-</span> requests selected.</div>
      </div>
    </div>
  </div>
  
  <%= javascript_tag do -%>
    <%= render :partial => 'request', formats: :js %> 
  <% end %>
</div>