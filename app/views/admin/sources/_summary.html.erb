<ul class="thumbnails">
  <li class="span4">
    <div class="thumbnail" id="chart_status">
      <%= javascript_tag do -%>
        <%= render :partial => 'status', formats: :js %> 
      <% end %>
    </div>
  </li>
  <li class="span4">
    <div class="thumbnail" id="chart_day">
      <%= javascript_tag do -%>
        <%= render :partial => 'day', formats: :js %> 
      <% end %>
    </div>
  </li>
  <li class="span4">
    <div class="thumbnail" id="chart_month">
      <%= javascript_tag do -%>
        <%= render :partial => 'month', formats: :js %> 
      <% end %>
    </div>
  </li>
</ul>

<table class="table table-striped" id="SummaryTable">
  <thead>
    <tr>
      <th/>
      <th class="number">Pending</th>
      <th class="number">Working</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Jobs</th>
      <td class="number"><%= number_with_delimiter(@source.delayed_jobs.count - @source.delayed_jobs.count(:locked_at)) %></td>
      <td class="number"><%= number_with_delimiter(@source.delayed_jobs.count(:locked_at)) %></td>
    </tr>
    <tr>
      <th/>
      <th class="number">Events</th>
      <th class="number">No Events</th>
    </tr>
    <tr>
      <th>Updated Articles in the last 24 Hours</th>
      <td class="number"><%= number_with_delimiter(@source.retrieval_statuses.with_events(1).size) %></td>
      <td class="number"><%= number_with_delimiter(@source.retrieval_statuses.without_events(1).size) %></td>
    </tr>
    <tr>
      <th/>
      <th class="number">Articles&nbsp;with&nbsp;Events</th>
      <th class="number">All Events</th>
    </tr>
    <tr>
      <th>Events</th>
      <td class="number"><%= number_with_delimiter(@source.articles.cited(1).size) %></td>
      <td class="number"><%= number_with_delimiter(@source.retrieval_statuses.sum(:event_count)) %></td>
    </tr>
  </tbody>
</table>